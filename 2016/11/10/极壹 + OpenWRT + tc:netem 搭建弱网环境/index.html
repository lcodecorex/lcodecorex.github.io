<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>极壹 + OpenWRT + tc/netem 搭建弱网环境 | Oscar Blog</title><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/4.2.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/grids-responsive-min.css"><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.0.0/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">极壹 + OpenWRT + tc/netem 搭建弱网环境</h1><a id="logo" href="/.">Oscar Blog</a><p class="description">成长就是学会忍受孤寂，学会自寻乐趣。</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">极壹 + OpenWRT + tc/netem 搭建弱网环境</h1><div class="post-meta">Nov 10, 2016<script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><a data-thread-key="2016/11/10/极壹 + OpenWRT + tc:netem 搭建弱网环境/" href="/2016/11/10/极壹 + OpenWRT + tc:netem 搭建弱网环境/#comments" class="ds-thread-count"></a><div class="post-content"><p>因业务需求，笔者需要搭建一个弱网环境，来测试设备在弱网环境下的表现。现在已有一些弱网模拟工具，微软有Network Emulator for Windows Toolkit（NEWT），Facebook有Augmented Traffic Control（ATC），这些方式要么是通过代理，要么就是只能实现wifi丢包，我们需要模拟网口的丢包，因此只能借助于开源的OpenWRT linux系统，调用其tc命令来控制流量，实现丢包、传输延时等。</p>
<h2 id="一-ssh管理极路由"><a href="#一-ssh管理极路由" class="headerlink" title="一. ssh管理极路由"></a>一. ssh管理极路由</h2><h3 id="1-登录路由器，进入管理后台"><a href="#1-登录路由器，进入管理后台" class="headerlink" title="1. 登录路由器，进入管理后台"></a>1. 登录路由器，进入管理后台</h3><h3 id="2-点击云插件"><a href="#2-点击云插件" class="headerlink" title="2. 点击云插件"></a>2. 点击云插件</h3><p><img src="/assets/blogImg/gee1.png" alt=""></p>
<h3 id="3-路由器信息-gt-高级设置-gt-开通开发者模式"><a href="#3-路由器信息-gt-高级设置-gt-开通开发者模式" class="headerlink" title="3. 路由器信息 -&gt; 高级设置 -&gt; 开通开发者模式"></a>3. 路由器信息 -&gt; 高级设置 -&gt; 开通开发者模式</h3><p><img src="/assets/blogImg/gee1_info.png" alt=""></p>
<h3 id="4-注册小极账号，关注微信公众号，关联小极账号"><a href="#4-注册小极账号，关注微信公众号，关联小极账号" class="headerlink" title="4. 注册小极账号，关注微信公众号，关联小极账号"></a>4. 注册小极账号，关注微信公众号，关联小极账号</h3><h3 id="5-终端输入命令：ssh-p-1022-root-192-168-199-1-使用ssh管理路由，顺利的话此时拥有root权限并可以使用linux命令了"><a href="#5-终端输入命令：ssh-p-1022-root-192-168-199-1-使用ssh管理路由，顺利的话此时拥有root权限并可以使用linux命令了" class="headerlink" title="5. 终端输入命令：ssh -p 1022 root@192.168.199.1 使用ssh管理路由，顺利的话此时拥有root权限并可以使用linux命令了"></a>5. 终端输入命令：ssh -p 1022 root@192.168.199.1 使用ssh管理路由，顺利的话此时拥有root权限并可以使用linux命令了</h3><h2 id="二-极壹刷入OpenWRT系统"><a href="#二-极壹刷入OpenWRT系统" class="headerlink" title="二. 极壹刷入OpenWRT系统"></a>二. 极壹刷入OpenWRT系统</h2><p>刷入OpenWRT系统有两种方式。第一种就是在本地采用强制刷入的方式，这种方式也可以救砖。需要在windows电脑上安装tftpd，将下载好的bin文件命名为recovery.bin并放到tftpd目录下；极路由尖锐物按住reset，同时通电；直到tftpd提示上传中的小窗口进度条，再松开reset；等待1~3分钟即可。第二种方式就是使用更新的方式，如下。</p>
<h3 id="1-登录ssh"><a href="#1-登录ssh" class="headerlink" title="1. 登录ssh"></a>1. 登录ssh</h3><h3 id="2-将U-boot替换成解锁版"><a href="#2-将U-boot替换成解锁版" class="headerlink" title="2. 将U-boot替换成解锁版"></a>2. 将U-boot替换成解锁版</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">cd /tmp</div><div class="line">wget http://www.xuanlove.download/hiwifi/HC6361-uboot.bin</div><div class="line">mtd write HC6361-uboot.bin u-boot</div></pre></td></tr></table></figure>
<h3 id="3-刷入固件"><a href="#3-刷入固件" class="headerlink" title="3. 刷入固件"></a>3. 刷入固件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">wget http://www.xuanlove.download/hiwifi/openwrt-ar71xx-generic-hiwifi-hc6361-squashfs-sysupgrade.bin</div><div class="line">sysupgrade -F -n openwrt-ar71xx-generic-hiwifi-hc6361-squashfs-sysupgrade.bin</div></pre></td></tr></table></figure>
<p>这里当然也可以不使用wget的方式，可以先把bin文件下载到本地，再通过scp命令拷贝到路由器目录下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">scp recovery.bin root@192.168.199.1:/tmp/recovery.bin</div></pre></td></tr></table></figure></p>
<h3 id="4-稍等1-3分钟，访问192-168-1-1，进入OpenWRT管理后台配置密码、端口号、及SSH公钥"><a href="#4-稍等1-3分钟，访问192-168-1-1，进入OpenWRT管理后台配置密码、端口号、及SSH公钥" class="headerlink" title="4. 稍等1-3分钟，访问192.168.1.1，进入OpenWRT管理后台配置密码、端口号、及SSH公钥"></a>4. 稍等1-3分钟，访问192.168.1.1，进入OpenWRT管理后台配置密码、端口号、及SSH公钥</h3><p>之后ssh -p 22 root@192.168.1.1，之后可能让选择，输入yes回车，进入ssh。如果是失败了，可能已经配置过，打开.ssh/known_hosts将192.168.1.1相关的host配置删除，重新执行命令。</p>
<h2 id="三-重新编译OpenWRT系统"><a href="#三-重新编译OpenWRT系统" class="headerlink" title="三. 重新编译OpenWRT系统"></a>三. 重新编译OpenWRT系统</h2><p>由于流量控制需要使用tc、netem命令，编译好的OpenWRT一般是默认不包含netem的，此时需要修改编译配置并重新编译OpenWRT系统。OpenWRT的编译不支持大小写不敏感的系统，需要使用linux系统来编译，此处使用了ubuntu。</p>
<h3 id="1-下载源代码"><a href="#1-下载源代码" class="headerlink" title="1. 下载源代码"></a>1. 下载源代码</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git clone https://github.com/rssnsj/openwrt-hc6361.git</div><div class="line">cd openwrt-hc6361</div></pre></td></tr></table></figure>
<h3 id="2-安装所需依赖包"><a href="#2-安装所需依赖包" class="headerlink" title="2. 安装所需依赖包"></a>2. 安装所需依赖包</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install  libncurses5-dev  zlib1g-dev  gawk  flex  patch   git-core g++   subversion</div></pre></td></tr></table></figure>
<h3 id="3-修改部分配置"><a href="#3-修改部分配置" class="headerlink" title="3. 修改部分配置"></a>3. 修改部分配置</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">make menuconfig</div></pre></td></tr></table></figure>
<p>修改如下配置：</p>
<ul>
<li>CONFIG_PACKAGE_kmod-netem=y</li>
<li>CONFIG_PACKAGE_kmod-sched-core=y</li>
<li>CONFIG_PACKAGE_kmod-sched=y</li>
</ul>
<p>然后顺便看一看有没有luci相关的配置，没有的话需要更新下openwrt源码包。</p>
<h3 id="4-更新openwrt包-luci包等"><a href="#4-更新openwrt包-luci包等" class="headerlink" title="4.更新openwrt包(luci包等)"></a>4.更新openwrt包(luci包等)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">./scrips/feeds update -a</div><div class="line">./scrips/feeds install -a -p</div></pre></td></tr></table></figure>
<p>也可以只更新luci包：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">./scripts/feeds update packages luci</div><div class="line">./scripts/feeds install -a -p luci</div></pre></td></tr></table></figure></p>
<h3 id="5-配置luci"><a href="#5-配置luci" class="headerlink" title="5. 配置luci"></a>5. 配置luci</h3><p>make menuconfig<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">配置内容以下选项和下边的设置一样，其他选项保持默认：</div><div class="line">       Target System (x86)</div><div class="line">       Subtarget (Generic)</div><div class="line">       Target Profile (Generic)</div><div class="line">       Target Image --&gt;</div><div class="line">              &lt; &gt; jffs2</div><div class="line">              &lt; &gt; squashfs</div><div class="line">              &lt; &gt; tgz</div><div class="line">              &lt;* &gt; Build VMware image files (VMDK). Requires qemu-img</div><div class="line"></div><div class="line">       Network --&gt;</div><div class="line">              &lt;*&gt; uhttpd</div><div class="line"></div><div class="line">       LuCI --&gt;</div><div class="line">          Collections --&gt;</div><div class="line">               &lt; * &gt; luci</div><div class="line">          Applications--&gt;</div><div class="line">              &lt;* &gt; luci-app-ddns</div><div class="line">              &lt;* &gt; luci-app-firewall</div><div class="line">              &lt;* &gt; luci-app-ntpc</div><div class="line">              &lt;* &gt; luci-app-samba</div><div class="line">          Themes--&gt;全选</div><div class="line">          Translations --&gt;</div><div class="line">              &lt;* &gt; luci-i18n-chinese</div></pre></td></tr></table></figure></p>
<h3 id="6-make-V-99-（显示详细信息）命令编译"><a href="#6-make-V-99-（显示详细信息）命令编译" class="headerlink" title="6. make V=99 （显示详细信息）命令编译"></a>6. make V=99 （显示详细信息）命令编译</h3><p>如果编译过程中出现提示pdnsd-1.2.9a包下载失败之类的提示，可以在menuconfig中取消编译这一项，它是一个软件包，后面想安装也可以直接下载编译好的ipk通过<code>opkg install *.ipk</code>的方式安装。</p>
<h2 id="四-TC常用命令"><a href="#四-TC常用命令" class="headerlink" title="四. TC常用命令"></a>四. TC常用命令</h2><h3 id="删除原来的tc规则队列"><a href="#删除原来的tc规则队列" class="headerlink" title="删除原来的tc规则队列"></a>删除原来的tc规则队列</h3><p>tc qdisc del dev eth0 root</p>
<h3 id="设置延时"><a href="#设置延时" class="headerlink" title="设置延时"></a>设置延时</h3><p>tc qdisc add dev eth0 root netem delay 30ms</p>
<h3 id="显示延时的设置"><a href="#显示延时的设置" class="headerlink" title="显示延时的设置"></a>显示延时的设置</h3><p>tc qdisc show</p>
<h3 id="修改延时"><a href="#修改延时" class="headerlink" title="修改延时"></a>修改延时</h3><p>tc qdisc change dev eth0 root netem delay 40ms</p>
<h3 id="删除延时的配置"><a href="#删除延时的配置" class="headerlink" title="删除延时的配置"></a>删除延时的配置</h3><p>tc qdisc del dev eth0 root netem delay 40ms</p>
<h2 id="五-配置路由器启动时自动运行流量控制脚本"><a href="#五-配置路由器启动时自动运行流量控制脚本" class="headerlink" title="五. 配置路由器启动时自动运行流量控制脚本"></a>五. 配置路由器启动时自动运行流量控制脚本</h2><p>OPenWRT luci后台  –&gt; 启动项，网页最下面有一个文本框可以写入shell脚本如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">tc qdisc add dev eth0 root netem loss 10% delay 100ms 50ms 60%</div><div class="line">tc qdisc add dev wlan0 root netem loss 10% delay 100ms 50ms 60%</div></pre></td></tr></table></figure></p>
<p>意思是设置eth0口的丢包率为10%，传输延时为100ms，波动值为100ms± 50ms，60% 的包会延迟± 50ms发送。设备的连接方式如图：</p>
<p><img src="/assets/blogImg/weak-network.png" alt=""></p>
<p>此处应该注意lan口之间通信走的是内部交换机，不会发生丢包现象，因此不能把pos机和打印机同时接到同一个路由器的LAN口上。要想让pos接LAN口怎么办？当然是使用桥接的方式。此处因为要求pos机和打印机的ip地址在同一个网段上，因此不能使用中继的方式，中继要求两个路由器使用不同的ip网段，比如192.168.1.1和192.168.121.1；而桥接模式则是192.168.1.1和192.168.1.2这样的。</p>
<h2 id="六-OPenWRT开启无线桥接"><a href="#六-OPenWRT开启无线桥接" class="headerlink" title="六. OPenWRT开启无线桥接"></a>六. OPenWRT开启无线桥接</h2><p>此处开启桥接模式的方式又有两种，一种是需要主路由开启WDS，从路由也需要一些设置。由于极壹没有WPS这些高级设置选项，因此只能通过第二种方式，使用Openwrt上替代WDS的wlan扩网方式stabridge。</p>
<p><img src="/assets/blogImg/relay_bridge.png" alt=""></p>
<h3 id="1-安装必要的软件包"><a href="#1-安装必要的软件包" class="headerlink" title="1. 安装必要的软件包"></a>1. 安装必要的软件包</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">opkg update  #此步是必要的，不然不一定能找到需要的插件包</div><div class="line">opkg install relayd</div><div class="line">opkg install luci-proto-relay</div></pre></td></tr></table></figure>
<h3 id="2-网络-gt-无线-gt-搜索，找到主路由加入网络"><a href="#2-网络-gt-无线-gt-搜索，找到主路由加入网络" class="headerlink" title="2. 网络 -&gt; 无线 -&gt; 搜索，找到主路由加入网络"></a>2. 网络 -&gt; 无线 -&gt; 搜索，找到主路由加入网络</h3><p><img src="/assets/blogImg/relayd2.jpg" alt=""></p>
<p>加入网络选client模式并指定网络为wwan，密码为主路由wifi密码，注意选择 <strong>lan</strong>，提交。<br>界面中操作多次失败，接下来在ssh命令行中操作。</p>
<h3 id="3-openwrt-ssh编辑以下配置文件"><a href="#3-openwrt-ssh编辑以下配置文件" class="headerlink" title="3. openwrt ssh编辑以下配置文件"></a>3. openwrt ssh编辑以下配置文件</h3><h4 id="1-vim-etc-config-network做如下修改"><a href="#1-vim-etc-config-network做如下修改" class="headerlink" title="1. vim /etc/config/network做如下修改"></a>1. vim /etc/config/network做如下修改</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"># 添加中继桥相关配置</div><div class="line">config interface &apos;stabridge&apos;     #添加中继桥</div><div class="line">                 option proto &apos;relay&apos;</div><div class="line">                 option network &apos;lan wwan&apos;</div><div class="line"></div><div class="line"># 从路由器lan口ip地址不宜和主路由ip地址冲突</div><div class="line">config interface &apos;lan&apos;</div><div class="line">          ...</div><div class="line">        option ipaddr &apos;192.168.1.30&apos;   #手动指派从路由ip地址v，比如主路由是192.168.1.1，此处可以是192.168.1.2</div></pre></td></tr></table></figure>
<h4 id="2-vim-etc-config-dhcp-做如下修改"><a href="#2-vim-etc-config-dhcp-做如下修改" class="headerlink" title="2. vim /etc/config/dhcp 做如下修改"></a>2. vim /etc/config/dhcp 做如下修改</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"># lan相关配置下添加一行，关掉lan的dhcp</div><div class="line">config dhcp lan</div><div class="line">        ...</div><div class="line">       option ignore 1   #这一行添加，关掉lan的dhcp功能</div></pre></td></tr></table></figure>
<h4 id="2-vim-etc-config-firewall-做如下修改"><a href="#2-vim-etc-config-firewall-做如下修改" class="headerlink" title="2. vim /etc/config/firewall 做如下修改"></a>2. vim /etc/config/firewall 做如下修改</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">config zone</div><div class="line">        option name &apos;lan&apos;</div><div class="line">        option input &apos;ACCEPT&apos;</div><div class="line">        option output &apos;ACCEPT&apos;</div><div class="line">        option forward &apos;ACCEPT&apos;       #修改前为REJECT</div><div class="line">        option network &apos;lan wwan&apos;     #添加了wwan</div></pre></td></tr></table></figure>
<h3 id="4-保存并重启，此时从路由应该可以上网了"><a href="#4-保存并重启，此时从路由应该可以上网了" class="headerlink" title="4. 保存并重启，此时从路由应该可以上网了"></a>4. 保存并重启，此时从路由应该可以上网了</h3><h3 id="5-若从路由wifi连接失败，修改配置"><a href="#5-若从路由wifi连接失败，修改配置" class="headerlink" title="5. 若从路由wifi连接失败，修改配置"></a>5. 若从路由wifi连接失败，修改配置</h3><p>后台 -&gt; 网络 -&gt; 无线 -&gt; 添加，新增加一个热点，选择AP模式，注意选择lan，保存。</p>
<p>此时在ssh中使用ifconfig，应该能发现多了一个wlan0_1端口，WiFi限速应该对此端口做。重启从路由器，热点可以连接了。</p>
<p><img src="/assets/blogImg/weak-network-bridge.png" alt=""></p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul>
<li><a href="http://blog.csdn.net/tencent_bugly/article/details/51540176" target="_blank" rel="external">微信测试工程师手把手教你做弱网络模拟测试</a></li>
<li><a href="http://i.she.vc/yuanchuang/335444.html" target="_blank" rel="external">极路由1、1s等机型刷OpenWrt–成为真正的极客</a></li>
<li><a href="https://www.xuanlove.net/jishujiaoliu/1218.html" target="_blank" rel="external">极路由全系列刷openwrt固件教程</a></li>
<li><a href="http://blog.csdn.net/letterwhite/article/details/50605691" target="_blank" rel="external">利用openWRT模拟网络丢包和延迟</a></li>
<li><a href="http://blog.csdn.net/mrwangwang/article/details/38977485" target="_blank" rel="external">ubuntu11.10下编译openwrt的环境配置</a></li>
<li><a href="https://my.oschina.net/shou1156226/blog/514929" target="_blank" rel="external">Linux 下使用 tc 模拟网络延迟和丢包</a></li>
<li><a href="http://blog.csdn.net/sdvch/article/details/16343011" target="_blank" rel="external">openwrt编译过程(luci)</a></li>
<li><a href="http://blog.csdn.net/pifangsione/article/details/13162023" target="_blank" rel="external">MW4530R Openwrt 无线路由中继设置</a></li>
<li><a href="http://www.right.com.cn/forum/thread-78291-1-1.html" target="_blank" rel="external">Openwrt上替代WDS的wlan扩网方式stabridge【简明教程】</a></li>
</ul>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://lcodecorex.github.io/2016/11/10/极壹 + OpenWRT + tc:netem 搭建弱网环境/" data-id="civcceucs001qen5oql3ucqpt" class="article-share-link">分享到</a><div class="tags"></div><div class="post-nav"><a href="/2016/10/11/想要亲手实现一个刷新控件，你只需要掌握这些知识/" class="next">想要亲手实现一个刷新控件，你只需要掌握这些知识</a></div><div data-thread-key="2016/11/10/极壹 + OpenWRT + tc:netem 搭建弱网环境/" data-title="极壹 + OpenWRT + tc/netem 搭建弱网环境" data-url="http://lcodecorex.github.io/2016/11/10/极壹 + OpenWRT + tc:netem 搭建弱网环境/" class="ds-share flat"><div class="ds-share-inline"><ul class="ds-share-icons-16"><li data-toggle="ds-share-icons-more"><a href="javascript:void(0);" class="ds-more">分享到：</a></li><li><a href="javascript:void(0);" data-service="weibo" class="ds-weibo">微博</a></li><li><a href="javascript:void(0);" data-service="qzone" class="ds-qzone">QQ空间</a></li><li><a href="javascript:void(0);" data-service="qqt" class="ds-qqt">腾讯微博</a></li><li><a href="javascript:void(0);" data-service="wechat" class="ds-wechat">微信</a></li></ul><div class="ds-share-icons-more"></div></div></div><div data-thread-key="2016/11/10/极壹 + OpenWRT + tc:netem 搭建弱网环境/" data-title="极壹 + OpenWRT + tc/netem 搭建弱网环境" data-url="http://lcodecorex.github.io/2016/11/10/极壹 + OpenWRT + tc:netem 搭建弱网环境/" data-author-key="1" class="ds-thread"></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"/><div id="local-search-result"></div></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/JNI/" style="font-size: 15px;">JNI</a> <a href="/tags/安全/" style="font-size: 15px;">安全</a> <a href="/tags/学习/" style="font-size: 15px;">学习</a> <a href="/tags/响应式编程/" style="font-size: 15px;">响应式编程</a> <a href="/tags/设计模式/" style="font-size: 15px;">设计模式</a> <a href="/tags/项目搭建/" style="font-size: 15px;">项目搭建</a> <a href="/tags/整理/" style="font-size: 15px;">整理</a> <a href="/tags/项目规范/" style="font-size: 15px;">项目规范</a> <a href="/tags/求职/" style="font-size: 15px;">求职</a> <a href="/tags/算法/" style="font-size: 15px;">算法</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2016/11/10/极壹 + OpenWRT + tc:netem 搭建弱网环境/">极壹 + OpenWRT + tc/netem 搭建弱网环境</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/11/想要亲手实现一个刷新控件，你只需要掌握这些知识/">想要亲手实现一个刷新控件，你只需要掌握这些知识</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/13/友书：我的Android项目搭建规范与技巧塑造之旅/">友书：我的Android项目搭建规范与技巧塑造之旅</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/20/Android插件化/">Android应用插件化原理与实现（待续）</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/20/Android热补丁动态修复HotFix/">Android热补丁动态修复技术Hotfix</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/18/Android代码混淆详解/">Android代码混淆详解</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/18/adapter深入理解学习/">Adapter学习与优化</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/12/Android SQLite操作性能优化办法(参考GreenDao)/">Android SQLite操作性能优化办法-参考GreenDao</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/10/SQL学习/">SQL学习</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/08/Android应用差分更新工具bsdiff/">Android应用差分更新工具bsdiff</a></li></ul></div><div class="widget"><div class="comments-title"><i class="fa fa-comment-o"> 最近评论</i></div><div data-num-items="5" data-show-avatars="0" data-show-time="1" data-show-admin="0" data-excerpt-length="32" data-show-title="1" class="ds-recent-comments"></div></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="https://github.com/lcodecorex" title="github" target="_blank">github</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">© <a href="/." rel="nofollow">Oscar Blog.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script>var duoshuoQuery = {short_name:'lcodecorex'};
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0]
        || document.getElementsByTagName('body')[0]).appendChild(ds);
})();
</script><script type="text/javascript" src="/js/search.js?v=0.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
   search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>